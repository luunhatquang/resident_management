{% extends 'base.html' %}
{% load static %}

{% block title %}Chi tiết phòng {{ room.room_number }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/buildings.css' %}">
{% endblock %}

{% block header_icon %}
<a href="{% url 'get_building_details' building_id=room.building.building_id %}" style="text-decoration: none; color: inherit; margin-right: 10px;">
    <i class="fa-solid fa-arrow-left"></i>
</a>
<i class="fa-solid fa-door-open"></i>
{% endblock %}
{% block header_title %}Chi tiết phòng{% endblock %}

{% block content %}
<div class="detail-container">
    <div class="detail-header">
        <div>
            <h2>Phòng {{ room.room_number }}</h2>
            <p style="color: #64748b; margin-top: 5px;">Mã: {{ room.room_id }} | {{ room.building.name }}</p>
        </div>
        <span class="status-badge-large status-{{ room.status }}">
            {{ room.get_status_display }}
        </span>
    </div>

    <!-- Section: Thông tin phòng -->
    <div class="info-section">
        <h3><i class="fa-solid fa-door-open"></i> Thông tin phòng</h3>
        <div class="info-grid">
            <div class="info-item">
                <label>Tòa nhà</label>
                <span>{{ room.building.name }}</span>
            </div>
            <div class="info-item">
                <label>Số tầng</label>
                <span>{{ room.floor_number }}</span>
            </div>
            <div class="info-item">
                <label>Diện tích</label>
                <span>{{ room.room_area }} m²</span>
            </div>
            <div class="info-item">
                <label>Số phòng ngủ</label>
                <span>{{ room.bedroom_count|default:"--" }}</span>
            </div>
            <div class="info-item">
                <label>Số phòng tắm</label>
                <span>{{ room.bathroom_count|default:"--" }}</span>
            </div>
            <div class="info-item">
                <label>Loại phòng</label>
                <span>
                    {% if room.type_listing == 'rent' %}
                        Cho thuê
                    {% else %}
                        Bán
                    {% endif %}
                </span>
            </div>
            <div class="info-item">
                <label>Giá thuê/tháng</label>
                <span style="color: var(--primary-color); font-weight: bold;">{{ room.rent_price|floatformat:0 }} VNĐ</span>
            </div>
            <div class="info-item">
                <label>Tiện ích</label>
                <span>{{ room.amenities|default:"--" }}</span>
            </div>
        </div>
    </div>

    <div class="detail-actions">
        <a href="{% url 'get_building_details' building_id=room.building.building_id %}" class="btn-secondary" style="text-decoration: none; display: flex; align-items: center; justify-content: center;">Quay lại</a>
        <button class="btn-primary" onclick="editRoom('{{ room.room_id }}')">
            <i class="fa-solid fa-edit"></i> Chỉnh sửa
        </button>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/buildings.js' %}"></script>
{% endblock %}
