{% extends 'base.html' %}
{% load static %}

{% block title %}Chỉnh sửa Phòng{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/buildings.css' %}">
{% endblock %}

{% block header_icon %}
<a href="{% url 'get_room_details' room_id=room.room_id %}" style="text-decoration: none; color: inherit; margin-right: 10px;">
    <i class="fa-solid fa-arrow-left"></i>
</a>
<i class="fa-solid fa-door-open-pen"></i>
{% endblock %}
{% block header_title %}Chỉnh sửa phòng{% endblock %}

{% block content %}
<div class="form-container">
    <div class="form-header">
        <h2><i class="fa-solid fa-door-open"></i> Phòng {{ room.room_number }}</h2>
        <p style="color: #64748b; margin-top: 5px;">Mã: {{ room.room_id }} | {{ room.building.name }}</p>
    </div>

    <form method="POST">
        {% csrf_token %}
        
        <div class="form-grid">
            <div class="form-group">
                <label for="{{ form.room_number.id_for_label }}">Số phòng *</label>
                {{ form.room_number }}
                {% if form.room_number.errors %}
                    <span style="color: red; font-size: 12px;">{{ form.room_number.errors.0 }}</span>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.floor_number.id_for_label }}">Số tầng *</label>
                {{ form.floor_number }}
                {% if form.floor_number.errors %}
                    <span style="color: red; font-size: 12px;">{{ form.floor_number.errors.0 }}</span>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.room_area.id_for_label }}">Diện tích (m²)</label>
                {{ form.room_area }}
                {% if form.room_area.errors %}
                    <span style="color: red; font-size: 12px;">{{ form.room_area.errors.0 }}</span>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.bedroom_count.id_for_label }}">Số phòng ngủ</label>
                {{ form.bedroom_count }}
                {% if form.bedroom_count.errors %}
                    <span style="color: red; font-size: 12px;">{{ form.bedroom_count.errors.0 }}</span>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.bathroom_count.id_for_label }}">Số phòng tắm</label>
                {{ form.bathroom_count }}
                {% if form.bathroom_count.errors %}
                    <span style="color: red; font-size: 12px;">{{ form.bathroom_count.errors.0 }}</span>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.type_listing.id_for_label }}">Loại phòng *</label>
                {{ form.type_listing }}
                {% if form.type_listing.errors %}
                    <span style="color: red; font-size: 12px;">{{ form.type_listing.errors.0 }}</span>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.rent_price.id_for_label }}">Giá thuê/tháng (VNĐ)</label>
                {{ form.rent_price }}
                {% if form.rent_price.errors %}
                    <span style="color: red; font-size: 12px;">{{ form.rent_price.errors.0 }}</span>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.status.id_for_label }}">Trạng thái</label>
                {{ form.status }}
                {% if form.status.errors %}
                    <span style="color: red; font-size: 12px;">{{ form.status.errors.0 }}</span>
                {% endif %}
            </div>
            
            <div class="form-group full-width">
                <label for="{{ form.amenities.id_for_label }}">Tiện ích</label>
                {{ form.amenities }}
                {% if form.amenities.errors %}
                    <span style="color: red; font-size: 12px;">{{ form.amenities.errors.0 }}</span>
                {% endif %}
            </div>
        </div>

        <div class="form-actions">
            <a href="{% url 'get_room_details' room_id=room.room_id %}" class="btn-secondary" style="text-decoration: none; display: flex; align-items: center; justify-content: center;">Hủy</a>
            <button type="submit" class="btn-primary">
                <i class="fa-solid fa-save"></i> Lưu thay đổi
            </button>
        </div>
    </form>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/buildings.js' %}"></script>
{% endblock %}
